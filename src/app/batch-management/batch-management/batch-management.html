<div class="header-wrapper">

  <!-- ================= LIST VIEW ================= -->
  <ng-container *ngIf="view === 'list'">

    <div class="header-container">
      <h2 class="management-header">Batch Management</h2>

      <button class="header-btn" (click)="openCreate()">
        <span class="plus">+</span>
        <span>Create New Batch</span>
      </button>
    </div>

    <hr class="divider" />

    <!-- Cards -->
    <div class="cards-container">
      <div class="card" *ngFor="let card of cards">
        <div class="card-header">
          <div class="icon">
            <img [src]="card.image" />
          </div>
          <div class="title">{{ card.title }}</div>
        </div>

        <div class="card-body">
          <div class="value">{{ card.value }}</div>
        </div>

        <div class="card-footer">
          Update: Last updated today
        </div>
      </div>
    </div>

    <!-- Table -->
    <div class="course-container">
      <table class="course-table">
        <thead>
          <tr>
            <th>Course Name</th>
            <th>Course ID</th>
            <th>Batch No</th>
            <th>Training Mode</th>
            <th>Batch Start Date</th>
            <th>Present Strength</th>
            <th>Actions</th>
            <th>Edit</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let course of courses">
            <td class="course-name">{{ course.courseName }}</td>
            <td class="link">{{ course.courseId }}</td>
            <td>{{ course.batchNo }}</td>
            <td>{{ course.mode }}</td>
            <td>{{ course.startDate }}</td>
            <td>{{ course.strength }}</td>

            <!-- ACTIONS -->
            <td>
              <button
                *ngIf="course.status === 'activate'"
                class="activate-btn"
                (click)="openActivate(course)"
              >
                Activate Batch
              </button>

              <span *ngIf="course.status === 'active'" class="active-text">
                Active
              </span>
            </td>

            <!-- EDIT -->
            <td class="edit-col">
              <i
                *ngIf="course.status === 'active'"
                class="fa-solid fa-pen-to-square"
                (click)="openEdit(course)"
              ></i>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </ng-container>

  <!-- ================= CREATE BATCH ================= -->
  <app-create-batch
    *ngIf="view === 'create'"
    (close)="backToList()"
  ></app-create-batch>

  <!-- ================= ACTIVATE BATCH ================= -->
  <app-activate-batch
    *ngIf="view === 'activate'"
    (close)="backToList()"
  ></app-activate-batch>

  <!-- ================= EDIT BATCH ================= -->
  <app-edit
    *ngIf="view === 'edit'"
    [data]="selectedCourse"
    (close)="backToList()"
  ></app-edit>

</div>
