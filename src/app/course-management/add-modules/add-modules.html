<div class="add-modules-container">
  <h3 class="section-title">Add Modules</h3>

  <div class="module-row" *ngFor="let module of modules; let i = index">
    <div class="field small">
      <label>Module NO</label>
      <input type="text" [value]="i + 1" disabled />
    </div>

    <div class="field large">
      <label>Module Name <span class="required">*</span></label>
      <input [(ngModel)]="module.moduleName" placeholder="Enter Module Name" />
    </div>

    <div class="field medium">
      <label>Module Duration <span class="required">*</span></label>
      <select [(ngModel)]="module.moduleDuration">
        <option>1 Hour</option>
        <option>2 Hours</option>
        <option>3 Hours</option>
        <option>4 Hours</option>
      </select>
    </div>

    <div class="field medium">
      <label>Total Sessions <span class="required">*</span></label>
      <input type="number" [(ngModel)]="module.moduleDescription" />
    </div>

    <div class="field action">
      <!-- pass the module to modal -->
      <button class="session-btn" (click)="openSessionModal(module)">
        Add Sessions Details
      </button>
    </div>

    <div class="field icon">
      <img src="delete.jpg" alt="delete" class="delete-icon" />
    </div>
  </div>

  <!-- SESSION MODAL -->
  <div class="modal-backdrop" *ngIf="SessionModal">
    <div class="session-modal">
      <div class="modal-header">
        <h3>Update Session Details</h3>
        <button class="close-btn" (click)="closeSessionModal()">âœ•</button>
      </div>

      <div class="modal-grid">
        <div class="form-group">
          <label>Module Name</label>
          <input [(ngModel)]="currentModule.moduleName" disabled />
        </div>

        <div class="form-group">
          <label>Module Duration</label>
          <input [(ngModel)]="currentModule.moduleDuration" disabled />
        </div>

        <div class="form-group">
          <label>Total Sessions</label>
          <input [(ngModel)]="currentModule.moduleDescription" disabled />
        </div>
      </div>

      <hr />

      <h4>Session Details</h4>
      <div class="session-grid">
        <div class="form-group">
          <label>Start Date <span class="required">*</span></label>
          <input type="date" [(ngModel)]="currentModule.startDate" />
        </div>
        <div class="form-group">
          <label>Start Time <span class="required">*</span></label>
          <input type="time" [(ngModel)]="currentModule.startTime" />
        </div>
        <div class="form-group">
          <label>End Date <span class="required">*</span></label>
          <input type="date" [(ngModel)]="currentModule.endDate" />
        </div>
        <div class="form-group">
          <label>End Time <span class="required">*</span></label>
          <input type="time" [(ngModel)]="currentModule.endTime" />
        </div>
      </div>

      <div class="modal-footer">
        <button class="update-session-btn" (click)="closeSessionModal()">
          Update Session Details
        </button>
      </div>
    </div>
  </div>

  <div class="form-footer">
    <button class="back-btn" (click)="goBack()">Back</button>
    <button class="confirm-ccourse-btn" (click)="submitModules()">Create Course</button>
  </div>
</div>
